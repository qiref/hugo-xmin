{{ partial "header.html" . }}

{{ if not .IsHome }}
<h1>{{ .Title | markdownify }}</h1>
{{ end }}

{{ .Content }}

{{ $pages := .Pages }}
{{ $filteredPages := slice }}

<!-- Âä®ÊÄÅË∞ÉÊï¥È°µÈù¢ÊòæÁ§∫ÈÄªËæë -->
{{ if .IsHome }}
  <!-- È¶ñÈ°µÂè™ÊòæÁ§∫postÊñáÁ´† -->
  {{ $pages = where site.RegularPages "Type" "==" "post" }}
{{ else if eq .Section "note" }}
  <!-- noteÈ°µÈù¢Âè™ÊòæÁ§∫noteÊñáÁ´† -->
  {{ $pages = where .Pages "Type" "==" "note" }}
{{ else }}
  <!-- ÂÖ∂‰ªñÈ°µÈù¢‰øùÊåÅÈªòËÆ§ -->
  {{ $pages = where .Pages "Section" "!=" "" }}
{{ end }}

<ul class="post-list">
  {{ range $pages.ByDate.Reverse }}
  <li class="{{ .Type }}-item">
    <span class="date">{{ .Date.Format "2006/01/02" }}</span>
    <a href="{{ .RelPermalink }}">{{ .Title | markdownify }}</a>
    {{ if eq .Type "note" }}
      <span class="note-badge">üìù</span>
    {{ end }}
  </li>
  {{ end }}
</ul>

{{ partial "footer.html" . }}